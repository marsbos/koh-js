<!doctype html>
<html lang="nl">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" href="./styles.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css"
        />

        <title>Koh.js - Interval Island</title>
    </head>
    <body class="bg-gray-100 p-8">
        <header class="bg-white p-4 shadow-md flex justify-between items-center mb-10">
            <h2 class="text-xl text-gray-500">ğŸï¸ Koh.js - Interval Island!</h2>
        </header>

        <h1 class="text-lg">This example demonstrates the use of:</h1>
        <ul class="flex flex-col gap-3 mb-5">
            <li class="mt-3">
                <b class="feature">fromInterval:</b>
                create a timed based Stream
            </li>
            <li>
                <b class="feature">Pause & resume:</b>
                streams can be paused and resumed.
            </li>
        </ul>
        <section class="flex flex-col lg:flex-row gap-10 lg:gap-20">
            <div class="flex-2/4 order-1 lg:order-0">
                <div>
                    <pre><code class="language-javascript">
import { island } from './static/koh-js/core/index.js'
import { fromInterval } from './static/koh-js/stream/index.js'
import { startWith } from './static/koh-js/operators/index.js'

island('interval-island', k => {
    const timer$ = fromInterval(1000)

    // // Automatically update the span text whenever the interval stream changes
    k.sync('span', timer$)

    // Listen for clicks and pause or resume the stream
    k.on('[name="stop"]', 'click', () => {
        timer$.pause()
    })
    k.on('[name="start"]', 'click', () => {
        timer$.resume()
    })
})                  
                </code>
                </pre>
                </div>
                <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
            </div>

            <div class="flex-2/4">
                <interval-island name="interval-island">
                    <h3>&lt;interval-island&nbsp;/&gt;</h3>
                    <p class="my-3">
                        Timer:
                        <span>0</span>
                    </p>
                    <button name="stop">Pause</button>
                    <button name="start">Resume</button>

                    <script type="module">
                        import { island } from './static/koh-js/core/index.js'
                        import { fromInterval } from './static/koh-js/stream/index.js'
                        import { startWith } from './static/koh-js/operators/index.js'

                        island('interval-island', k => {
                            const timer$ = fromInterval(1000)

                            // // Automatically update the span text whenever the interval stream changes
                            k.sync('span', timer$)

                            // Listen for clicks and pause or resume the stream
                            k.on('[name="stop"]', 'click', () => {
                                timer$.pause()
                            })
                            k.on('[name="start"]', 'click', () => {
                                timer$.resume()
                            })
                        })
                    </script>
                </interval-island>
            </div>
        </section>
    </body>
</html>
